<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      id="viewport"
      content="width=device-width, height=device-height, initial-scale=1.0"
    />

    <!-- Ignore viewport height change caused by mobile keyboard -->
    <script>
      // Global boolean variable that holds the current orientation
      var pageInPortraitMode;

      // Listen for window resizes to detect orientation changes
      window.addEventListener('resize', windowSizeChanged);

      // Set the global orientation variable as soon as the page loads
      addEventListener('load', function () {
        pageInPortraitMode = window.innerHeight > window.innerWidth;
        document
          .getElementById('viewport')
          .setAttribute(
            'content',
            'width=' +
              window.innerWidth +
              ', height=' +
              window.innerHeight +
              ', initial-scale=1.0, maximum-scale=1.0, user-scalable=0'
          );
      });

      // Adjust viewport values only if orientation has changed (not on every window resize)
      function windowSizeChanged() {
        if (
          (pageInPortraitMode === true &&
            window.innerHeight < window.innerWidth) ||
          (pageInPortraitMode === false &&
            window.innerHeight > window.innerWidth)
        ) {
          pageInPortraitMode = window.innerHeight > window.innerWidth;
          document
            .getElementById('viewport')
            .setAttribute(
              'content',
              'width=' +
                window.innerWidth +
                ', height=' +
                window.innerHeight +
                ', initial-scale=1.0, maximum-scale=1.0, user-scalable=0'
            );
        }
      }
    </script>

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./img/favicon-32x32.png"
    />
    <link rel="prefetch" href="./img/icon-check.svg" />
    <link rel="stylesheet" href="css/style.css" />

    <title>Frontend Mentor | Todo App js</title>
  </head>

  <body>
    <header class="header">
      <div class="header__bg"></div>
    </header>

    <main class="todo">
      <div class="todo__header">
        <h1 class="todo__title heading-primary">TODO</h1>
        <img
          src="img/icon-moon.svg"
          alt="Dark mode button"
          class="todo__button"
        />
      </div>

      <form action="#filter--active" class="form">
        <label for="input" class="form__circle">&bigcirc;</label>
        <input
          type="text"
          name="input"
          id="input"
          placeholder="Create a new todo..."
          autocomplete="off"
          class="form__input"
        />
      </form>

      <div class="list">
        <div class="list__container"></div>
      </div>

      <div class="filter">
        <button class="filter__btn--side u-width--extra"></button>
        <div class="filter__sort">
          <button id="all" class="filter__btn--center">All</button>
          <button id="active" class="filter__btn--center">Active</button>
          <button id="completed" class="filter__btn--center">Completed</button>
        </div>
        <button class="filter__btn--side">Clear Completed</button>
      </div>

      <p class="todo__text">Drag and drop to reorder list</p>
    </main>

    <footer class="footer">
      Challenge by
      <a
        href="https://www.frontendmentor.io/challenges/todo-app-Su1_KokOW/"
        target="_blank"
        class="footer__link"
        >Frontend Mentor</a
      >. Coded by
      <a
        href="https://github.com/hafezfhmi"
        target="_blank"
        class="footer__link"
        >Hafez Fahmi</a
      >.
    </footer>

    <template>
      <div class="list__sortable-wrapper">
        <div class="list__item">
          <span class="list__circle"></span>
          <p class="list__desc"></p>
          <img src="img/icon-cross.svg" alt="Delete icon" class="list__cross" />
        </div>
      </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="script.js" defer></script>
  </body>
</html>
